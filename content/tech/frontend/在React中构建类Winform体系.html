<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link href="https://cdn.bootcss.com/prism/1.15.0/themes/prism.css" rel="stylesheet">
    <!-- <link rel="stylesheet" href="./node_modules/highlight.js/styles/default.css">
    <link rel="stylesheet" href="./node_modules/highlight.js/styles/solarized-light.css"> -->
</head>
<body>
    <!--模板引擎 arttemplate  -->
    <blockquote>
<p>&#x4E0A;&#x6B21;&#x8BF4;&#x5230;&#x4E86;Winform&#x4F53;&#x7CFB;&#x5305;&#x62EC;&#x5927;&#x90E8;&#x5206;&#x4F20;&#x7EDF;&#x7A97;&#x53E3;&#x4F53;&#x7CFB;&#x4E0E;HTML&#x4F53;&#x7CFB;&#x7684;&#x533A;&#x522B;&#xFF0C;HTML&#x662F;&#x7531;&#x6D4F;&#x89C8;&#x5668;&#x53BB;&#x6E32;&#x67D3;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x6811;&#xFF0C;&#x5F62;&#x6210;UI&#xFF0C;&#x5176;&#x4E0E;HTML&#x672C;&#x8EAB;&#x9694;&#x9602;&#x662F;&#x5F88;&#x91CD;&#x7684;&#xFF0C;HTML&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#xFF0C;&#x6709;&#x6587;&#x6863;&#x7684;&#x57FA;&#x672C;&#x5355;&#x5143;&#x505A;&#x57FA;&#x7840;&#xFF0C;&#x8282;&#x70B9;&#x53EA;&#x662F;&#x6570;&#x636E;&#x4E0D;&#x8D1F;&#x8D23;&#x7ED8;&#x5236;&#xFF0C;&#x800C;Winform&#x5219;&#x662F;&#x6BCF;&#x4E2A;Control&#x90FD;&#x662F;&#x5168;&#x529F;&#x80FD;&#x4E14;&#x8D1F;&#x8D23;&#x7ED8;&#x5236;&#x81EA;&#x5DF1;&#xFF0C;&#x62E5;&#x6709;&#x5173;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;&#x4E00;&#x5207;&#x5C5E;&#x6027;&#x548C;&#x4E8B;&#x4EF6;&#xFF08;&#x79F0;&#x4F5C;&#x5B8C;&#x5907;&#x6027;&#xFF09;<br>&#x800C;React&#x867D;&#x7136;&#x5728;HTML&#x4F53;&#x7CFB;&#x4E2D;&#x6784;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;Winform&#x7684;&#x7EC4;&#x4EF6;&#x5316;&#x4F53;&#x7CFB;&#xFF0C;&#x4F46;&#x5E76;&#x6CA1;&#x6709;&#x5B8C;&#x5168;&#x6446;&#x8131;&#x90A3;&#x79CD;&#x6587;&#x6863; UI &#x7ED8;&#x56FE;&#x6DF7;&#x4E3A;&#x4E00;&#x8C08;&#x4E71;&#x4E03;&#x516B;&#x7CDF;&#x7684;&#x5904;&#x5883;&#xFF0C;<strong>&#x8FD9;&#x91CC;&#x4FBF;&#x5BF9;&#x5728;React&#x4E2D;&#x6784;&#x5EFA;Winform&#x4F53;&#x7CFB;&#x505A;&#x521D;&#x6B65;&#x63A2;&#x7D22;</strong></p>
</blockquote>
<h1 id="&#x7406;&#x5FF5;">&#x7406;&#x5FF5;</h1>
<p>&#x9996;&#x5148;&#x8003;&#x8651;&#x5230;&#x5F25;&#x5408;&#x5176;&#x4E3B;&#x8981;&#x5DEE;&#x5F02;&#xFF0C;&#x5373;&#x8BA9;Control&#x57FA;&#x7C7B;&#x5177;&#x6709;&#x7ED8;&#x5236;&#x81EA;&#x5DF1;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4E8E;&#x662F;&#x8003;&#x8651;&#x628A;&#x80CC;&#x666F;-div-&#x524D;&#x666F;&#x7EC4;&#x5408;&#x4E3A;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;<br>&#x8003;&#x8651;&#x5230;Control&#x7684;&#x7ED8;&#x5236;&#x548C;&#x5B50;&#x63A7;&#x4EF6;&#x6811;&#x662F;&#x5206;&#x79BB;&#x7684;&#xFF0C;Control&#x91CC;&#x9762;&#x5E94;&#x8BE5;&#x6709;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#xFF1A;</p>
<ol>
<li>Content&#x51FD;&#x6570;&#xFF0C;&#x8FD4;&#x56DE;&#x5B50;&#x63A7;&#x4EF6;&#x6811;</li>
<li>Draw&#x51FD;&#x6570;&#xFF0C;&#x8D1F;&#x8D23;&#x7ED8;&#x5236;&#x81EA;&#x8EAB;</li>
</ol>
<p>&#x800C;&#x6240;&#x8C13;&#x7684;&#x80CC;&#x666F;&#x524D;&#x666F;&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x4E2A;&#x201C;&#x7ED8;&#x56FE;&#x9762;&#x201D;&#xFF0C;&#x800C;&#x7ED8;&#x56FE;&#x9762;&#x4E4B;&#x524D;&#x662F;&#x8BF4;&#x8FC7;&#x662F;&#x7531; &#x540E;Canvas-html&#x7ED8;&#x56FE;&#x5C42;-&#x524D;Canvas&#x7EC4;&#x6210;<br>&#x4E8E;&#x662F;&#x4E00;&#x4E2A;Control&#x5E94;&#x8BE5;&#x6709;7&#x5C42;&#xFF0C;3&#x5C42;&#x80CC;&#x666F; &#x4E2D;&#x95F4;&#x4E3A;&#x5B50;&#x6811; &#x4E09;&#x5C42;&#x524D;&#x666F;&#xFF0C;&#x8FD9;&#x4E2A;&#x67B6;&#x6784;&#x4F3C;&#x4E4E;&#x6709;&#x4E9B;&#x8FC7;&#x4E8E;&#x5E9E;&#x5927;<br>&#x5982;&#x679C;&#x8BA9;&#x7ED8;&#x56FE;&#x9762;&#x4E0D;&#x5305;&#x62EC;HTMLcss&#x7684;&#x80FD;&#x529B;&#xFF0C;&#x90A3;&#x5C31;&#x53EA;&#x6709;3&#x5C42;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x7684;&#x9009;&#x9879;<br><strong>&#x8FD9;&#x91CC;&#x5148;&#x5B9E;&#x73B0;&#x540E;&#x8005;&#xFF0C;&#x5373;&#x7B80;&#x5355;&#x7248;&#x672C;</strong></p>
<h1 id="&#x521D;&#x6B65;&#x5B9E;&#x73B0;">&#x521D;&#x6B65;&#x5B9E;&#x73B0;</h1>
<p>&#x9996;&#x5148;&#x662F;&#x6574;&#x4F53;&#x4E0A;&#xFF0C;&#x4E00;&#x4E2A;Control&#x5E94;&#x8BE5;&#x6709;&#x4E00;&#x7EC4;&#x5BF9;&#x5E94;&#x7684;Control&#x5C5E;&#x6027;&#xFF0C;&#x5BF9;&#x4E8E;Control&#x57FA;&#x7C7B;&#x6765;&#x8BF4;&#x5B83;&#x662F;ControlProps</p>
<pre class="language-tsx"><code class="language-tsx"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ControlProps</span>
<span class="token punctuation">{</span>
height<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
width<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>&#x7136;&#x540E;&#x662F;&#x4E3B;&#x4F53;&#x7C7B;</p>
<pre class="language-tsx"><code class="language-tsx"><span class="token keyword">export</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Control</span><span class="token operator">&lt;</span><span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token class-name">ControlProps</span><span class="token operator">=</span>ControlProps<span class="token punctuation">,</span><span class="token constant">S</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token constant">SS</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span><span class="token constant">P</span><span class="token punctuation">,</span><span class="token constant">S</span><span class="token punctuation">,</span><span class="token constant">SS</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token operator">:</span><span class="token constant">P</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">private</span> <span class="token function">FrontClick</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span>React<span class="token punctuation">.</span>MouseEvent</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> evt<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">createEvent</span><span class="token punctuation">(</span><span class="token string">&quot;MouseEvents&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        evt<span class="token punctuation">.</span><span class="token function">initEvent</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> es<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">[</span><span class="token string">&quot;cont&quot;</span><span class="token punctuation">]</span> <span class="token keyword">as</span> HTMLDivElement<span class="token punctuation">;</span>
        es<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//&#x5B9E;&#x73B0;</span>
    <span class="token keyword">public</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">const</span> ss<span class="token operator">=</span><span class="token punctuation">{</span>
            height<span class="token operator">:</span><span class="token string">&quot;100%&quot;</span><span class="token punctuation">,</span>
            width<span class="token operator">:</span><span class="token string">&quot;100%&quot;</span><span class="token punctuation">,</span>
            position<span class="token operator">:</span><span class="token string">&quot;absolute&quot;</span><span class="token punctuation">,</span>
            top<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            left<span class="token operator">:</span><span class="token number">0</span>
        <span class="token punctuation">}</span> <span class="token keyword">as</span> React<span class="token punctuation">.</span>CSSProperties
        <span class="token keyword">const</span> contss<span class="token operator">=</span><span class="token punctuation">{</span>
            height<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
            width<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
            position<span class="token operator">:</span><span class="token string">&quot;relative&quot;</span>
        <span class="token punctuation">}</span> <span class="token keyword">as</span> React<span class="token punctuation">.</span>CSSProperties<span class="token punctuation">;</span>
        <span class="token comment">//&#x81EA;&#x7ED8;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>back<span class="token operator">&amp;&amp;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>back<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>front<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>contss<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>control<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>front<span class="token punctuation">&quot;</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ss<span class="token punctuation">}</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>control-back<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>cont<span class="token punctuation">&quot;</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ss<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>control-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span>  <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>back<span class="token punctuation">&quot;</span></span> 
            <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                pointerEvents<span class="token operator">:</span><span class="token string">&quot;none&quot;</span>
            <span class="token punctuation">}</span> <span class="token keyword">as</span> React<span class="token punctuation">.</span>CSSProperties<span class="token punctuation">)</span><span class="token punctuation">,</span>ss<span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>front<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>control-front<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> back<span class="token operator">:</span>CanvasRenderingContext2D<span class="token punctuation">;</span>
    <span class="token keyword">private</span> front<span class="token operator">:</span>CanvasRenderingContext2D<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> back<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">[</span><span class="token string">&quot;back&quot;</span><span class="token punctuation">]</span> <span class="token keyword">as</span> HTMLCanvasElement<span class="token punctuation">;</span>
        <span class="token keyword">let</span> front<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>refs<span class="token punctuation">[</span><span class="token string">&quot;front&quot;</span><span class="token punctuation">]</span> <span class="token keyword">as</span> HTMLCanvasElement<span class="token punctuation">;</span>
        <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>back<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>front<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span>back<span class="token punctuation">,</span>front<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token operator">=&gt;</span>v<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">&quot;2d&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Controls&#x7EE7;&#x627F;&#x65F6;&#x5FC5;&#x987B;&#x8C03;&#x7528;&#x6B64;&#x51FD;&#x6570; super.xxxx</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//Control&#x6E32;&#x67D3;&#x51FD;&#x6570;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token function">draw</span><span class="token punctuation">(</span>background<span class="token operator">:</span>CanvasRenderingContext2D<span class="token punctuation">,</span>
    frontend<span class="token operator">:</span>CanvasRenderingContext2D<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token constant">JSX</span><span class="token punctuation">.</span>Element<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x7C7B;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x7248;&#x672C;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4E9B;&#x4E1C;&#x897F;&#x9700;&#x8981;&#x89E3;&#x7B54;&#xFF1A;</p>
<ol>
<li>Canvas&#x7684;Style&#x662F;&#x5C06;Canvas&#x7684;&#x5C3A;&#x5BF8;&#x62C9;&#x5230;&#x4E0E;&#x7236;&#x7EC4;&#x4EF6;&#x4E00;&#x81F4;&#xFF0C;&#x800C;&#x6B64;&#x5904;&#x7528;style&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x597D;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x8BBE;&#x7F6E;&#x7EDD;&#x5BF9;&#x5927;&#x5C0F;&#x5E76;&#x4E0E;&#x7236;&#x7EC4;&#x4EF6;&#x7684;client&#x5927;&#x5C0F;&#x540C;&#x6B65;</li>
<li>&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x7C7B;&#x4E0E;&#x4E00;&#x822C;&#x7684;Control&#x6709;&#x4E00;&#x4E2A;&#x533A;&#x522B;&#xFF0C;&#x666E;&#x901A;&#x7684;winform&#x63A7;&#x4EF6;&#x6709;&#x4E2A;Controls&#x5217;&#x8868;&#xFF0C;&#x6E32;&#x67D3;&#x65F6;&#x76F4;&#x63A5;&#x4F9D;&#x636E;&#x5B50;Control&#x7684;position&#x5C5E;&#x6027;&#x6E32;&#x67D3;&#x5230;&#x5BF9;&#x5E94;&#x4F4D;&#x7F6E;&#xFF08;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x5E03;&#x5C40;&#x7B56;&#x7565;&#x4F46;&#x603B;&#x4F53;&#x4E3A;&#x7236;&#x7EC4;&#x4EF6;&#x51B3;&#x5B9A;&#x5B50;&#x7EC4;&#x4EF6;&#x7684;&#x5B9A;&#x4F4D;&#xFF09;&#xFF0C;&#x800C;&#x8FD9;&#x91CC;&#x76F4;&#x63A5;&#x7531;content&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x5B50;&#x6811;&#xFF0C;&#x8FD9;&#x662F;&#x7531;React&#x5728;&#x751F;&#x6210;UI&#x65F6;&#x6307;&#x5B9A;&#x903B;&#x8F91;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x4E5F;&#x5373;&#x5F88;&#x591A;&#x65F6;&#x5019;&#x662F;&#x8981;&#x91CD;&#x65B0;&#x751F;&#x6210;&#x5B50;&#x63A7;&#x4EF6;&#x6811;&#x7684;&#xFF0C;&#x5E76;&#x4E0D;&#x50CF;&#x666E;&#x901A;&#x7A97;&#x53E3;&#x4E00;&#x6837;&#x63A7;&#x4EF6;&#x6811;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x53EA;&#x7531;&#x7A0B;&#x5E8F;&#x4FEE;&#x6539;</li>
<li>React&#x4F1A;&#x81EA;&#x52A8;&#x5904;&#x7406;refs&#xFF0C;&#x5728;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x4E2D;&#x662F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7528;React&#x548C;ReactDOM&#x7684;&#x51FD;&#x6570;&#x627E;&#x5230;&#x548C;&#x64CD;&#x4F5C;&#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x70B9;&#x65E0;&#x9700;&#x5E72;&#x6D89;  </li>
<li>React&#x7684;&#x7C7B;&#x7EE7;&#x627F;&#x4E8E;Component&#x4F46;&#x8282;&#x70B9;&#x5B9E;&#x4F8B;&#x57FA;&#x7C7B;&#x4E3A;JSX.Element</li>
</ol>
<hr>
<p>&#x4EE5;&#x4E0B;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;Control&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x63A7;&#x4EF6;</p>
<pre class="language-tsx"><code class="language-tsx"><span class="token keyword">class</span> <span class="token class-name">MyControl</span> <span class="token keyword">extends</span> <span class="token class-name">Control</span><span class="token operator">&lt;</span>ControlProps<span class="token punctuation">,</span><span class="token punctuation">{</span>text<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">JSX</span><span class="token punctuation">.</span>Element <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&#x70B9;&#x6211;&#x66F4;&#x65B0;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token operator">=</span><span class="token punctuation">{</span>
            text<span class="token operator">:</span><span class="token string">&quot;hello wlrd&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function-variable function">click</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            text<span class="token operator">:</span><span class="token string">&quot;my own controls&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token parameter">background<span class="token operator">:</span> CanvasRenderingContext2D<span class="token punctuation">,</span> frontend<span class="token operator">:</span> CanvasRenderingContext2D</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        background<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
        frontend<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span><span class="token string">&quot;orange&quot;</span><span class="token punctuation">;</span>
        background<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        frontend<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
<p>&#x6548;&#x679C;:
<img src="https://s2.ax1x.com/2020/01/04/l0R0Vs.png" alt="l0R0Vs.png"></p>
<p>&#x867D;&#x7136;&#x4E0A;&#x9762;&#x6309;&#x94AE;&#x6321;&#x4F4F;&#x4F46;&#x8FD8;&#x662F;&#x53EF;&#x4EE5;&#x70B9;&#xFF0C;&#x524D;&#x666F;&#x662F;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E0D;&#x63A5;&#x6536;&#x4E8B;&#x4EF6;&#x7684;<br>&#x76EE;&#x524D;&#x8003;&#x8651;&#x7684;&#x6539;&#x8FDB;&#x6709;&#xFF1A;</p>
<ul>
<li>&#x8003;&#x8651;&#x7ED9;Control&#x52A0;&#x4E0A;&#x81EA;&#x5DF1;&#x7684;&#x70B9;&#x6309;&#x4E8B;&#x4EF6;&#xFF0C;&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;XY&#x5750;&#x6807;</li>
<li>&#x8003;&#x8651;&#x7ED9;Control&#x52A0;&#x4E0A;&#x7ED8;&#x56FE;&#x5E93;</li>
<li>&#x5B9E;&#x73B0;7&#x5C42;Control</li>
<li>&#x8BA9;&#x63A7;&#x4EF6;&#x7684;&#x4F4D;&#x7F6E;&#x548C;&#x5927;&#x5C0F;&#x4E3A;&#x5176;&#x5B9E;&#x9645;UI&#x4F4D;&#x7F6E;&#x548C;&#x5927;&#x5C0F;&#xFF0C;&#x800C;&#x4E0E;CSS&#x8131;&#x94A9;</li>
</ul>

    
 

</body></html>